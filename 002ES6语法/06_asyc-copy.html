<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <script type="text/javascript">
{

  //  1.aynce 总是返回 promised对象-----
    async function foo (){
      let p  =   await asyncGet(1000);
      let z  =   await asyncGet(2000);
      return z;
       // return p;
    }
    console.log(foo(),"gggg")
    console.log(foo().then(data=>{
      console.log(data,"zzzzz");
    }));


// 2. asynce
// a. 遇到await就会立即交出函数的控制权。并返回一个promise 对象
// b.
function asyncGet (x) {
  return new Promise(resolve => setTimeout(() => {
          console.log('a')
          resolve(x)
          }, 500))
}

async function test () {
    console.log('b')
    const x = 3 + 5
    console.log(x)
    const a = await asyncGet(1)
    console.log(a)
    const b = await asyncGet(2)
    console.log(b)
    console.log('c')
    return a + b
}

    const now = Date.now()
    console.log('d')
    test().then(x => {
        console.log(x)
        console.log(`elapsed: ${Date.now() - now}`)
    })
    console.log('f')



}
    </script>

  </head>
  <body>

  </body>
</html>
